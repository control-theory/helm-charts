replicaCount: 1
image:
  repository: controltheory/supervisor
  pullPolicy: Always
  tag: v1.2.1
storageHostPath:
  enable: true
  path: /var/ct/agent-data
deployment:
  controlplane:
    admission_token: "you-need-to-provide-it"
    endpoint: "ws://controlplane:4320/v1/opamp"
  agent_type: ""  # "ctotel" (default) or "aigent"
  otlp_export_endpoint: ""  # Override OTLP export destination (e.g., "aigent-gw:4317" to send to AIgent Gateway)
  args:
    - --config
    - /config.yaml
  otel:
    resource_attributes:
      - deployment.environment.name: staging
resources:
  enabled: true
  cpu:
    request: 100m
    limit: 250m
  memory:
    request: 500Mi
    limit: 1Gi

# Node Scheduling
#
# tolerateAllTaints: true (default) - Schedule on ALL nodes regardless of taints
# tolerateAllTaints: false          - Only schedule on nodes without taints
#
# To tolerate specific taints only, set tolerateAllTaints=false and list keys:
#   tolerateTaintKeys: ["only-gpu-workloads", "dedicated"]
#
# For full control, set tolerateAllTaints=false and use tolerations directly:
#   tolerations:
#     - key: "my-taint"
#       operator: "Equal"
#       value: "my-value"
#       effect: "NoSchedule"
#
tolerateAllTaints: true
tolerateTaintKeys: []
tolerations: []

# Priority Class
#
# For DaemonSets that must run on every node, use a high priority to ensure scheduling
# even when nodes are under resource pressure. The agent can preempt lower-priority pods.
#
# Common values:
#   "system-node-critical"    - Highest priority, for node-critical infrastructure (recommended)
#   "system-cluster-critical" - High priority, for cluster-critical services
#   ""                        - No priority class (default, not recommended for production)
#
priorityClassName: ""

serviceAccount:
  create: true
  name: otel-collector-admin

service:
  otelhttp:
    type: ClusterIP
    port: 4318
  otelgrpc:
    type: ClusterIP
    port: 4317
  statsd:
    type: ClusterIP
    port: 8125
